
.modals
    display none
    position fixed
    top 0
    align-items center
    justify-content center
    color #ffffff
    opacity 0
    transition opacity 0.3s

    &.is-displayed
        display flex

    &.is-visible
        opacity 1

    *::selection
        color #251f2b
        background-color #ffffff

    .modal
        display none

        &.is-displayed
            display block

        &.achievements
            width 600px

            .container
                overflow hidden

            .content
                width calc(100% + 20px)
                max-height 80vh
                overflow-y scroll

            .title
                text-align center

            .global-progress
                position relative
                top -0.5em
                text-align center

                &.is-achieved
                    .ratio
                        color #d5ff95

                    .time
                        display inline
                        font-weight 700

                        &::before
                            content 'in '
                            font-weight 400
                            opacity 0.65

                .ratio
                    color #ffceca
                    font-weight 700

                .time
                    display none

            .items
                margin-bottom 2em
            
            .achievement
                margin-bottom 1em

                &.is-achieved
                    .title
                        color #d5ff95

                    .description
                        .progress
                            color #d5ff95

                            .check-icon
                                display block

                    .bar
                        .fill
                            background #d5ff95

                .title
                    text-align left
                    color #ffceca
                    font-size 32px
                    margin-bottom 0

                .description
                    display flex
                    justify-content space-between
                    align-items flex-end
                    margin-bottom 0.5em

                    .text
                        margin-bottom 0

                    .progress
                        display flex
                        align-items center
                        font-weight 700
                        color #ffceca

                        .check-icon
                            display none
                            width 17px
                            height 13px
                            margin-right 10px
                            background url(../ui/achievements/check.svg)

                .bar
                    position relative
                    height 18px
                    border 1px solid #767676

                    .fill
                        position absolute
                        top 4px
                        right 4px
                        bottom 4px
                        left 4px
                        background #ffceca
                        transform-origin 0 0
                        transform scaleX(0)

            .button-reset
                width 215px

        &.intro
            .content
                .audio-toggle
                    img
                        &.audio-off
                            display block
                            
                        &.audio-on
                            display none

                    &.is-active
                        img
                            &.audio-on
                                display block

                            &.audio-off
                                display none

        &.whispers
            .preview
                .message
                    position relative
                    background #251f2b
                    padding 0 4px 4px 4px

                    .text
                        font-size 2.5rem
                        white-space nowrap
                        color #ffffff
                        border none
                        outline none

                    .flag
                        position absolute
                        bottom calc(100% - 12px)
                        right -16px
                        width 54px
                        height 36px
                        background red
                        background-size cover
                        transform rotate(15deg)
                        display none

                        &.is-visible
                            display block

        &.controls
            .content
                padding 20px

                @media only screen and (max-width 520px)
                    padding 20px

                @media only screen and (max-width 420px)
                    padding 20px

            .list
                display flex
                align-items center
                justify-content center

                .column
                    &:first-child
                        text-align right
                        padding-right 15px

                .list-item
                    white-space nowrap

                    &.is-gamepad-button
                        display none

                        &.is-playstation
                            .is-gamepad-default &
                            .is-gamepad-playstation &
                                display block

                        &.is-xbox
                            .is-gamepad-xbox &
                                display block

                .gamepad-button
                    display inline-block
                    background-size cover
                    vertical-align middle

                    @media only screen and (max-width 520px)
                        transform scale(0.8, 0.8)

                    @media only screen and (max-width 420px)
                        transform scale(0.7, 0.7)

                    &.circle
                        width 15px
                        height 15px
                        background-image url('../ui/controls/gamepad-circle.png')

                    &.triangle
                        width 16px
                        height 15px
                        background-image url('../ui/controls/gamepad-triangle.png')

                    &.square
                        width 15px
                        height 15px
                        background-image url('../ui/controls/gamepad-square.png')

                    &.cross
                        width 14px
                        height 13px
                        background-image url('../ui/controls/gamepad-cross.png')
            
        &.circuit
            .leaderboard-container
                display flex
                justify-content center
                align-items center
                flex-direction column
                margin-bottom 1.5em

                &.has-no-score
                    .no-score
                        display block

                .leaderboard
                    font-weight 700
                    margin-top 20px
                    margin-bottom 20px

                    tr
                        td
                            &:nth-child(1)
                                opacity 0.5
                                padding-right 30px
                                text-align center

                                // @media only screen and (max-width 520px)
                                //     width 60px
                                
                            &:nth-child(2)
                                padding-right 30px
                                
                            &:nth-child(3)
                                padding-right 30px
                                
                                // @media only screen and (max-width 520px)
                                //     width 80px

                .no-score
                    margin-top 30px
                    display none
                    font-weight 700
                    
                .reset-time
                    font-weight 700

        &.circuit-end
            .content
                .your-time
                    margin-top 0.5em
                    margin-bottom 1em
                    text-align center

                    .value
                        font-size 30px
                        font-weight 900

                .or
                    padding 12px

        &.is-double
            .container
                display flex
                width 1000px

                @media only screen and (orientation portrait)
                    flex-direction column
                    width 500px

                @media only screen and (max-width 520px)
                    width calc(100vw - 40px)

                @media only screen and (max-width 420px)
                    width calc(100vw - 20px)

            .preview
                width 50%

                @media only screen and (orientation portrait)
                    width auto
                    min-height 250px

            .content
                width 50%
                
                @media only screen and (orientation portrait)
                    width auto

    .preview
        display flex
        align-items center
        justify-content center
        position relative
        padding-bottom 10%

        .background
            position absolute
            top 0
            left 0
            width 100%
            height 100%
            object-fit cover

    .content
        position relative
        padding 25px 40px 40px 40px
        background radial-gradient(ellipse at top left, #251f2b, #1d1721)

        @media only screen and (max-width 520px)
            padding 20px 30px 30px 30px

        @media only screen and (max-width 420px)
            padding 15px 20px 20px 20px

        .close
            display flex
            justify-content center
            align-items center
            position absolute
            top 38px
            right 38px
            width 40px
            height 40px
            opacity 0.65

            @media only screen and (max-width 520px)
                top 28px
                right 28px

            @media only screen and (max-width 420px)
                top 18px
                right 18px
                transform scale(0.75, 0.75)

            &:hover
                opacity 1

            .icon
                &.is-default
                    .is-mode-gamepad.is-gamepad-xbox &
                        display none

                &.is-xbox
                    display none
                    justify-content center
                    align-items center
                    vertical-align bottom
                    border 2px solid #ffffff
                    // padding-top 2px
                    width 30px
                    height 30px
                    border-radius 15px

                    .is-mode-gamepad.is-gamepad-xbox &
                        display block

        .tabs
            .tabs-navigation
                display flex
                width calc(100% - 80px)
                margin-bottom 20px

                @media only screen and (max-width 520px)
                    margin-top 0px

                @media only screen and (max-width 420px)
                    width calc(100% - 50px)

                .tab
                    position relative
                    display flex
                    flex-direction column
                    align-items center
                    height 60px
                    padding-top 10px
                    padding-bottom 10px
                    flex 1

                    &.is-active
                    &:hover
                        .icon-container
                            opacity 0.7

                        .label
                            opacity 1

                    &.is-active
                        .active-background
                            opacity 1

                    .active-background
                        position absolute
                        top 0
                        left 0
                        width 100%
                        height 100%
                        background linear-gradient(to top, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.06))
                        border-radius 6px
                        opacity 0
                        transition opacity 0.3s

                    .icon-container
                        width 100%
                        height 40px
                        display flex
                        align-items center
                        justify-content center
                        opacity 0.25
                        transition opacity 0.15s

                    .icon-mouse-keyboard
                            width 37px
                            height 27px
                            background url('../ui/controls/mouse-keyboard.png')
                            background-size cover

                    .icon-touch
                            width 16px
                            height 26px
                            background url('../ui/controls/touch.png')
                            background-size cover

                    .icon-gamepad
                            width 34px
                            height 22px
                            background url('../ui/controls/gamepad.png')
                            background-size cover

                    .label
                        margin-top 5px
                        font-size 13px
                        font-weight 700
                        opacity 0.5
                        transition opacity 0.15s

            .tabs-content
                position relative
            
            .tabs-content-item
                display flex
                align-items center
                justify-content center
                position absolute
                top 0
                left 0
                width 100%
                height 100%
                opacity 0
                pointer-events none
                transition 0.15s

                &.is-active
                    opacity 1
                    pointer-events auto
                    transition-delay 0.15s
               
        .text
            a
                color inherit
                text-decoration underline

        .horizontal-group
            display flex
            align-items center
            justify-content center

            @media only screen and (max-width 520px)
                flex-direction column

            > *
                margin-right 10px

                &:last-child
                    margin-right 0

        .button
            vertical-align top
            cursor pointer
            border-color #ffceca
            padding 0 16px
            opacity 0.8
            height 58px
            border-radius 8px
            border 1px solid #ffffff
            white-space nowrap

            &:hover
                opacity 1

            .icon
                position relative
                vertical-align middle

                &.icon-restart
                    top -2px

                &.icon-flag
                    top -1px

                &.icon-controller
                    top -1px

        .input-group
            display flex
            height 58px

            &.is-message
                width 100%
                margin-top 1.5em

                .input-text
                    width calc(100% - 62px * 2)
                    padding 0 15px 0 5px

            &.is-name-tag
                .input-text
                    width 100px
                    font-size 25px
                    letter-spacing 8px
                    text-transform uppercase
                    font-weight 700
                    // padding 0 15px 0 5px

                    &::placeholder
                        letter-spacing 14px
                        padding-left 4px

            > *
                border-top 1px solid #555555
                border-bottom 1px solid #555555

            >:first-child
                border-radius 8px 0 0 8px
                border-left 1px solid #555555

            &.is-valide
                button
                    cursor pointer
                    border-color #ffceca
                    color #ffceca

                    &.has-icon
                        svg
                            *
                                stroke #ffceca

            .input-text
                padding 0 15px 0 5px

            .submit
                border-radius 0 8px 8px 0
                border 1px solid #555555
                cursor default
                color #555555

                &.has-text
                    padding 0 20px

                &.has-icon
                    width 62px
                    padding 0 8px 0 4px

                    svg
                        *
                            stroke #555555

            .input-flag
                position relative
                width 62px
                font-size 16px

                .flag-button
                    position absolute
                    top 0
                    left 0
                    width 100%
                    height 100%
                    display flex
                    justify-content center
                    align-items center
                    cursor pointer

                    &.has-flag
                        .flag
                            display block

                        svg
                            display none

                    .flag
                        display none
                        width 27px
                        height 18px

                    &:hover
                        svg
                            *
                                fill #cccccc

                    svg
                        display block

                        *
                            fill #555555

                .flag-select
                    display none
                    position absolute
                    bottom 0
                    left 8px
                    width 350px
                    height 240px
                    background radial-gradient(ellipse at top left, #251f2b, #1d1721)
                    border-radius 8px 8px 0 0
                    border 1px solid #767676
                    border-bottom none
                    overflow hidden
                    white-space nowrap
                    z-index 1

                    &.is-visible
                        display block

                    .close-mini
                        display flex
                        align-items center
                        justify-content center
                        position absolute
                        height 40px
                        width 34px
                        top 0
                        right 0
                        opacity 0.65
                        cursor pointer

                        &:hover
                            opacity 1

                        img
                            position relative
                            top 4px
                            left -3px
                    

                    .remove
                        display flex
                        align-items center
                        justify-content center
                        position absolute
                        height 40px
                        width 34px
                        top 0
                        right 30px
                        opacity 0.65
                        cursor pointer

                        &:hover
                            opacity 1

                        img
                            position relative
                            top 3px
                    
                    .search
                        height 40px
                        width 100%
                        padding 4px 35px 0 10px

                    .no-result
                        display none
                        justify-content center
                        align-items center
                        position absolute
                        top 30px
                        bottom 0
                        left 0
                        right 0
                        opacity 0.65
                        pointer-events none

                        &.is-visible
                            display flex
                    
                    .choices
                        position absolute
                        top 40px
                        bottom 0
                        left 0
                        right 0
                    
                        .scroller
                            position absolute
                            top 0
                            left 0
                            width calc(100% + 20px)
                            height 100%
                            overflow-y scroll
                            overflow-x hidden

                        .choice
                            display flex
                            padding 4px 8px
                            cursor pointer

                            &:hover
                                .label
                                    opacity 1

                            .label
                                opacity 0.65

                            .flag
                                margin-right 8px
                                width 27px
                                height 18px
